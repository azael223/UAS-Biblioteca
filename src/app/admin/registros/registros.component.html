<div class="container-fluid h-75 pr-4 pl-4 pt-3 animate__animated animate__fadeIn">
  <div class="row">
    <div class="col-12">
      <h1 class="title">Biblioteca</h1>
      <hr />
    </div>
  </div>
  <div class="row">
    <div class="col-10">
      <h1>Registros</h1>
    </div>
    <div class="col-2">
      <button
        class="btn-block"
        color="primary"
        mat-raised-button
        (click)="openDialog()"
      >
        <mat-icon class="mr-2">add_circle_outline </mat-icon>
        Nuevo
      </button>
    </div>
  </div>

  <!-- TABLE -->
  <div class="h-100 card shadow animate__animated animate__fadeIn">
    <div
      *ngIf="!loaded"
      class="h-100 w-100 d-flex align-items-center justify-content-center"
    >
      <mat-spinner></mat-spinner>
    </div>
    <ng-container *ngIf="loaded">
      <div
        *ngIf="!objects || (objects && objects.length <= 0)"
        class="w-100 h-100 d-flex align-items-center justify-content-center"
      >
        <h1>No se encontraron registros</h1>
      </div>
      <ng-container *ngIf="objects && objects.length > 0">
        <div class="overflow-auto">
          <table
            #table
            mat-table
            [dataSource]="objects"
            class="w-100 sticky-header"
          >
            <ng-container matColumnDef="pos">
              <th mat-header-cell *matHeaderCellDef>Num.</th>
              <td mat-cell *matCellDef="let object; let i = index">
                {{ object.id }}
              </td>
            </ng-container>

            <ng-container matColumnDef="ur">
              <th mat-header-cell *matHeaderCellDef>UR</th>
              <td mat-cell *matCellDef="let object">{{ object.ur }}</td>
            </ng-container>

            <ng-container matColumnDef="area">
              <th mat-header-cell *matHeaderCellDef>Biblioteca</th>
              <td mat-cell *matCellDef="let object">{{ object.area }}</td>
            </ng-container>

            <ng-container matColumnDef="turno">
              <th mat-header-cell *matHeaderCellDef>Turno</th>
              <td mat-cell *matCellDef="let object">
                {{ turnos[object.turno] }}
              </td>
            </ng-container>

            <ng-container matColumnDef="date">
              <th mat-header-cell *matHeaderCellDef>Creado En</th>
              <td mat-cell *matCellDef="let object">
                {{ object.creadoEn | date: "medium" }}
              </td>
            </ng-container>

            <ng-container matColumnDef="options">
              <th mat-header-cell *matHeaderCellDef>Opciones</th>
              <td mat-cell *matCellDef="let object; let i = index">
                <button type="button" mat-raised-button (click)="view(object)">
                  <mat-icon>visibility</mat-icon>
                </button>
                <button
                  type="button"
                  mat-raised-button
                  (click)="openDialog(object)"
                >
                  <mat-icon>create</mat-icon>
                </button>
                <button
                  trackB
                  type="button"
                  mat-raised-button
                  (click)="deleteObject(object)"
                >
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>
        </div>

        <div class="pag position-relative row w-100">

        </div>
        <mat-paginator
        class="pag-bottom w-100"
        [length]="totalPages"
        [pageSize]="pages"
        [pageSizeOptions]="PAGES"
        (page)="pagesChange($event)"
      ></mat-paginator>
      </ng-container>
    </ng-container>
  </div>
  <!--  -->
</div>
